<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Real Estate HTML5 Responsive Template</title>

        <!-- Css Files Start -->
		<link href="css/style.css" rel="stylesheet">
		<link href="css/bootstrap.css" rel="stylesheet">
		<link href="css/responsive.css" rel="stylesheet">
		<link href="css/theme-color.css" rel="stylesheet">
		<link href="css/owl.carousel.css" rel="stylesheet">
		<link href="css/font-awesome.min.css" rel="stylesheet">
		<link rel="stylesheet" href="css/grid-sidebar.css">

		<!-- Css Files End -->
		<!--[if lt IE 9]>
	      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	    <![endif]-->

    </head>

    <body>
	    <!--Wrapper Content Start-->
	    <div class="tl-wrapper">
			<header></header>
	    	<!--Inner Banner Start-->
	    	<section class="tl-inner-banner">
	    		<div class="container">
					<h3>Properties</h3>
	    			<!--Breadcrum Start-->
	    			<ul class="tl-breadcrumb-listed">
	    				<li><a href="index.html">Home</a></li>
						<li class="active">Properties</li>
	    			</ul>
	    		</div>
	    	</section><!--Inner Banner End-->

	    
	    	<!--Main Content Start-->
	    	<div class="tl-main-content">
				
				<!--Properties Section Start-->
				<section class="tl-properties-section pd-tb-80">
					<div class="container">
						<div class="row">
							<div class="col-md-4 col-sm-4 col-xs-12">
								<!--Sidebar Outer Start-->
								<aside class="tl-sidebar-outer">
									<!--Widget Holder Start-->
									<div class="widget widget-advanced-search">
										<h3>Advanced Search</h3>
										<!--Advance Search Form Start-->
										<form action="#" class="tl-advance-search-form">
											<!--Drop Down Start-->
				    						<div class="dropdown tl-dropdown-outer">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="tl-dropdownMenu2" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													Type <i class="fa fa-angle-down" aria-hidden="true"></i>

												</button>
												<div class="dropdown-menu" aria-labelledby="tl-dropdownMenu2">
													<button class="dropdown-item" type="button">Housing</button>
													<button class="dropdown-item" type="button">Business</button>
													<button class="dropdown-item" type="button">Tourism</button>
												</div>
											</div><!--Drop Down End-->
											<!--Drop Down Start-->
	    									<div class="dropdown tl-dropdown-outer">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="tl-dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
													Rent/Sale <i class="fa fa-angle-down" aria-hidden="true"></i>

												</button>
												<div class="dropdown-menu" aria-labelledby="tl-dropdownMenu3">
													<button class="dropdown-item" type="button">For Rent</button>
													<button class="dropdown-item" type="button">For Sale</button>
												</div>
											</div><!--Drop Down End-->

											<input class="tl-search-address" type="text" placeholder="Search by city">

											<!--Drop Down Start-->
				    						<div class="dropdown tl-dropdown-outer">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="tl-dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												Any Bads <i class="fa fa-angle-down" aria-hidden="true"></i>

												</button>
												<div class="dropdown-menu" aria-labelledby="tl-dropdownMenu4">
													<button class="dropdown-item" type="button">3</button>
													<button class="dropdown-item" type="button">4 </button>
													<button class="dropdown-item" type="button">6</button>
												</div>
											</div><!--Drop Down End-->
											<!--Drop Down Start-->
				    						<div class="dropdown tl-dropdown-outer">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="tl-dropdownMenu5" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												Any Baths <i class="fa fa-angle-down" aria-hidden="true"></i>

												</button>
												<div class="dropdown-menu" aria-labelledby="tl-dropdownMenu5">
													<button class="dropdown-item" type="button">5</button>
													<button class="dropdown-item" type="button">6 </button>
													<button class="dropdown-item" type="button">3</button>
												</div>
											</div><!--Drop Down End-->
											<!--Drop Down Start-->
				    						<div class="dropdown tl-dropdown-outer">
												<button class="btn btn-secondary dropdown-toggle" type="button" id="tl-dropdownMenu6" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
												Open House <i class="fa fa-angle-down" aria-hidden="true"></i>

												</button>
												<div class="dropdown-menu" aria-labelledby="tl-dropdownMenu6">
													<button class="dropdown-item" type="button">Full Furnished</button>
													<button class="dropdown-item" type="button">Well Decorated </button>
													<button class="dropdown-item" type="button">Fully Support</button>
												</div>
											</div><!--Drop Down End-->

											<button class="btn-search-submit" type="button" onclick="filterClick()">
												Search Properties
											</button>
										</form><!--Advance Search Form End-->
									</div><!--Widget Holder End-->

                                    <!--Widget Start-->
                                    <div class="widget widget-add">
                                        <figure class="add-thumb">
                                            <a href="#">
                                                <img src="images/add-img.jpg" alt="">
                                            </a>
                                        </figure>
                                    </div><!--Widget End-->

									<!--Widget Holder Start-->
									<div class="widget widget-about">
										<h3>Contact Us</h3>
										<ul class="ft-listed">
											<li>
												<i class="fa fa-phone" aria-hidden="true"></i>
												+1 212-431-2100</li>
											<li>
												<i class="fa fa-envelope-o" aria-hidden="true"></i>
												<a href="mailto:realestate@info.com">
												realestate@info.com</a>
											</li>
										</ul>
									</div><!--Widget Holder End-->

								</aside><!--Sidebar Outer End-->
							</div>

							<div class="col-md-8 col-sm-8 col-xs-12">
								<!--Filterable Holder Start-->
								<div class="tl-filterable-holder tl-filterable-holder_v2">
									<!--Filterable List Start-->
									<div class="tl-filterlist">
										<a href="" onclick="sortClick(2)" class="current">Newest</a>
										<a href="" onclick="sortClick(0)">Cheapest</a>
										<div class="tl-morefilter">
											<span class="more-filters">More Filters <i class="fa fa-angle-down" aria-hidden="true"></i></span>
											<ul class="tl-filter-dropdown" id="filter-dropdown">
												<li>
													<a href="" onclick="sortClick(3)">Oldest</a>
												</li>
												<li>
													<a href="" onclick="sortClick(1)">The most expensive</a>
												</li>
												<li>
													<a href="" onclick="sortClick(4)">Default</a>
												</li>
											</ul>
										</div>
										<span class="found-pages" id="number-of-results"></span>
									</div><!--Filterable List End-->

									<!--Filterable Outer Start-->
									<div id="grid-view-parent" class="tl-filterOuter row">

									</div><!--Filterable Outer End-->

								</div><!--Filterable Holder End-->
							</div>
						</div>
					</div>
				</section><!--Properties Section End-->

			
	    			
	    	</div><!--Main Content End-->

			<footer></footer>

	    </div>
	    <!--Wrapper Content End-->

		<!-- Js Files Start --> 
		<script src="js/jquery-1.11.3.min.js"></script>
		<script src="js/bootstrap.min.js"></script> 
		<script src="js/migrate.js"></script>  
		<script src="js/owl.carousel.min.js"></script>
		<script src="js/imagesloaded.pkgd.js"></script>
		<script src="js/isotope.pkgd.min.js"></script>
		<script src="js/handlebars-v4.0.10.js"></script>
		<script src="js/custom.js"></script>
		<script src="js/filters.js"></script>
		<script src="js/sort.js"></script>

		<script id="entry-template" type="text/x-handlebars-template">
			<div class="col-md-6 col-sm-6 col-xs-12">
				<!--Properties Box Start-->
				<div class="tl-properties-item">
					<figure class="tl-properties-thumb">
						<div class="entry-img-container">
							<img src="{{photos.[0]}}" alt="" style="height: 100%">
						</div>
						<figcaption class="tl-caption">
							<div class="top-text">
								<a href="#" class="like-btn">
									<i class="fa fa-heart-o" aria-hidden="true"></i>
								</a>
							</div>
							<div class="bottom-text">
                                <h3>{{price}} EUR</h3>
                                {{#location}}
                                <span>{{address}}, {{city}}</span>
                                {{/location}}
							</div>
						</figcaption>
					</figure>
					<!--Text Holder Start-->
					<div class="tl-text-holder">
						<h4><a href="properties-detail.html?{{id}}">{{description}}</a></h4>
						<ul class="tl-meta-listed">
							{{#info}}
							<li> {{rooms}} rooms</li>
							<li> {{beds}} beds</li>
							{{/info}}
							<li> {{area}} m&#178;</li>
						</ul>
					</div><!--Text Holder End-->
				</div><!--Properties Box End-->
			</div>
		</script>

		<script>

            function showFilteredData(data) {
                document.querySelector("#number-of-results").innerHTML = data.length + " results found";
                var templateSource = document.querySelector("#entry-template").innerHTML;
                var compiledTemplate = Handlebars.compile(templateSource);
                document.querySelector("#grid-view-parent").innerHTML = "";
                for (var property in data) {
                    document.querySelector("#grid-view-parent").innerHTML += compiledTemplate(data[property]);
                }
            }

            var defaultFilters = {
                type: 0,
                sellType: 0,
                min_price: 0,
                max_price: Number.MAX_VALUE,
                min_area: 0,
                max_area: Number.MAX_VALUE,
                min_rooms: 0,
                max_rooms: Number.MAX_VALUE,
                parking: false,
                heating0: true,
                heating1: true,
                heating2: true,
                city: "*",
                sort: 4
            };
            var urlFilters = extract_from_url();

            var filters = defaultFilters;
            for (var attribute in urlFilters) {
                filters[attribute] = urlFilters[attribute];
            }
            var filteredData = [];
            applyFilters();

            function sortClick(type) {
                showFilteredData(sort(filteredData, type));
                filters.sort = type;
            }

            function applyFilters() {
                $.get("property.json", function (data) {
                    filteredData = sort(filter(data, filters), filters.sort);
                    showFilteredData(filteredData);
                });
            }

            function filterClick() {
                //filters = ...
                applyFilters();
            }
		</script>
    
   </body>
</html>